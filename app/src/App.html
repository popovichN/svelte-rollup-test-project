<h1>Line chart</h1>

<svg>
	<g transform='translate(0,0)'>
		<g class='axes'>
			<g class='axis y-axis'>
				
			</g>
			<g class='axis x-axis'>
				<path stroke="#000" d=""></path>
				{{#each yTicks as tick}}
					<g class="tick" transform="translate( {{ padding.left }}, {{ yScale(tick) }} )">
						<line transform="translate( {{ padding.left * 1.5 }}, 0 )" stroke="#000" x2="100%" y1="0" y2="0"></line>
						<text fill="#000" x="{{ padding.left }}" y="0" dy="5">{{tick}}</text>
					</g>
				{{/each}}
			</g>
		</g>
	</g>
</svg>

<Nested foo='{{foo}}'/>

<style>
	svg {
		width: 100%;
		height: 0;
		padding-bottom: 50%;
	}
	.tick {
		font-family: Arial;
		font-size: .825em;
	}
	.tick line {
		stroke: #e2e2e2;
		stroke-dasharray: 1.5;
	}
	.tick text {
		fill: #ccc;
		text-anchor: end;
	}
</style>

<script>
	import Nested from './Nested.html';
	import { scaleLinear } from "d3-scale";

	export default {
		data () {
			return {
				padding: {
					top: 10,
					right: 10,
					bottom: 10,
					left: 10
				},
				height: 200,
				foo: 'bar',
				yTicks:  [0, 10, 20, 30, 40, 50 ]
			};
		},
		components: {
			Nested
		},
		computed: {
			hours: function ( hrs ) {
				//var time = this.get('hrs');
				
				console.log(hrs,' time')
				return hrs * 3;
			},
			yScale: function ( padding, height ) {
				return scaleLinear()
					.domain([0, 50])
   					.range([height - padding.bottom, padding.top]);
			}
		},
		onrender () {
			console.log('rendered')
		}

	};
</script>
