<div class='charts'>
	<Line projects='{{projects}}' ready='{{ready}}' />
	<Area projects='{{projects}}' ready='{{ready}}' />
</div>

<style>
	.charts h1,
	.charts p {
		font-family: Helvetica;
	}
	.charts h1 {
		font-size: 1.25em;

	}	
	.charts p {
		font-size: .825em; 
		color: #ccc;
	}
	.charts svg {
		width: 300px;
		height: 0;
		padding-bottom: 55%;
	}
	.charts .tick {
		font-family: Arial;
		font-size: .825em;
	}
	.charts .tick line {
		stroke: #e2e2e2;
		stroke-dasharray: 2;
	}
	.charts .tick text {
		fill: #ccc;
		text-anchor: start;
	}
	.charts .tick.tick-0 line {
		stroke-dasharray: 0;
	}
	.charts .x-axis .tick text {
		text-anchor: middle;
	}
</style>

<script>
	import Line from './Line.html';
	import Area from './Area.html';

	export default {
		data () {
			return {
				projects: [],
				ready: false
			};
		},
		components: {
			Line,
			Area
		},
		onrender () {
			console.log('rendered')
		}

	};

	(function () {
		  var xhttp = new XMLHttpRequest();
		  xhttp.onreadystatechange = function() {
		    if (this.readyState == 4 && this.status == 200) {
		    	var projects = JSON.parse(this.responseText);

		    	//pass data to Svelte app
		    	app.set({ projects, ready: true })
		    }
		  };
		  xhttp.open("GET", './data/births_by_race.json', true);
		  xhttp.send();
	})();
</script>
